<!-- src/app/components/layout/header/header.component.html -->
<header [class.nav-hidden]="isNavHidden" class="lefigaro-header">
  <!-- 1. Barra Superiore -->
  <nav class="header-top-nav">
    <div class="container top-nav-container">
      <!-- Menu Button (replacing logo) -->
      <app-menu-button
        (toggleMenu)="toggleMobileMenu()"
        [isOpen]="isMobileMenuOpen"
      ></app-menu-button>

      <!-- Navigazione Principale (Centrale) -->
      <ul class="main-nav-list">
        <li class="nav-item">
          <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" class="nav-icon">
            <g fill="currentcolor" stroke="currentColor" stroke-width="0.3" stroke-linecap="round" stroke-linejoin="round">
            <path
              d="M.5 1.945v12.11h16V1.945H.5Zm1.962 1.963h12.076v8.184H2.462V3.908Zm4.243 1.425v5.451l4.713-2.733-4.713-2.718Z"></path>
            </g></svg>
          <a href="#">TV & Vidéos</a>
        </li>
        <li class="nav-item">
          <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" class="nav-icon">
            <g fill="currentcolor" stroke="currentColor" stroke-width="0.3" stroke-linecap="round" stroke-linejoin="round">
            <path
              d="M14.804 12.055a.8.8 0 0 1-1.518-.504c.272-.82.414-1.706.414-2.618 0-3.565-2.204-5.93-5.2-5.93-2.995 0-5.2 2.365-5.2 5.93 0 .912.143 1.798.415 2.618a.8.8 0 0 1-1.519.504A9.92 9.92 0 0 1 1.7 8.933c0-4.424 2.895-7.53 6.8-7.53s6.8 3.106 6.8 7.53c0 1.083-.17 2.139-.496 3.122Z"></path>
            <path
              d="M5.282 13.627a2.4 2.4 0 0 1-2.354-2.432v-.017a2.382 2.382 0 0 1 2.428-2.35.8.8 0 0 1 .784.81l-.043 3.2a.8.8 0 0 1-.815.79ZM11.77 8.8a2.4 2.4 0 0 1 2.355 2.432v.018a2.382 2.382 0 0 1-2.415 2.35h-.013a.8.8 0 0 1-.785-.811l.043-3.2a.8.8 0 0 1 .816-.789Z"></path>
            </g></svg>
          <a href="#">Audio</a>
        </li>
        <li class="nav-item">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="nav-icon">
            <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2">
              <path d="M8 13.417A5.417 5.417 0 1 0 8 2.583a5.417 5.417 0 0 0 0 10.834ZM2.583 8h10.833"></path>
              <path
                d="M8 2.583A8.287 8.287 0 0 1 10.166 8 8.287 8.287 0 0 1 8 13.417 8.287 8.287 0 0 1 5.833 8 8.288 8.288 0 0 1 8 2.583v0Z"></path>
            </g>
          </svg>
          <a href="#">Le Figaro in English</a>
        </li>
        <li class="nav-item">
          <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 16 16" class="nav-icon">
            <g fill="currentcolor" stroke="currentColor" stroke-width="0.3" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12.413 3H4.587C3.433 3 2.5 3.9 2.5 5v6c0 1.1.933 2 2.087 2h7.826c1.154 0 2.087-.9 2.087-2V5c0-1.1-.933-2-2.087-2Zm-.626 1.253L8.5 7.12 5.213 4.253h6.574ZM13.193 11c0 .413-.353.747-.78.747H4.587c-.434 0-.78-.334-.78-.747V5c0-.06.02-.12.04-.173l4.22 3.68c.126.106.28.166.44.166.16 0 .313-.053.44-.166l4.22-3.68c.013.06.04.113.04.173v6h-.014Z"></path>
            </g></svg>
          <a href="#">Newsletters</a>
        </li>
        <li class="nav-item">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="nav-icon">
            <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2">
              <path d="M12.5 7c0 3.5-4.5 6.5-4.5 6.5s-4.5-3-4.5-6.5a4.5 4.5 0 0 1 9 0Z"></path><path fill="none" d="M8 8.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path></g>
          </svg>
          <a href="#">Actu locale</a>
        </li>
      </ul>

      <!-- Azioni Destra -->
      <div class="header-actions">
        <a class="login-link" href="#">
          <svg height="16" style="margin-right: 4px" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg">
            <g fill="currentcolor" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
               stroke-width="0.3">
              <path
                d="M8 1.333a3.333 3.333 0 1 0 0 6.667 3.333 3.333 0 0 0 0-6.667zM4 12.667v-1.334c0-1.84 1.493-3.333 3.333-3.333h1.334C10.507 8 12 9.493 12 11.333v1.334"/>
            </g>
          </svg>
          <span class="login-text" style="font-size: 12px">Se connecter</span>
        </a>
      </div>
    </div>
  </nav>

  <!-- 2. Sezione Media -->
  <div class="header-middle">
    <div class="container middle-container">
      <div class="header-journal-cover">
        <a href="#" target="_blank" rel="noopener">
          <!-- Placeholder semplice per la copertina -->
          <div class="cover-placeholder">
            <img src="https://placehold.co/87x65?text=Le+kiosque" alt="Lire le PDF en ligne">
          </div>
          <span>Lire le journal</span>
        </a>
      </div>

      <div class="header-logo logo-center">
        <a href="/" title="Accéder à Le Figaro" aria-label="Accéder à Le Figaro">
          <img alt="Le Figaro" class="logo-desktop" src="https://placehold.co/341x64?text=Le+Figaro+logo+341x64">
          <img alt="Le Figaro" class="logo-tablet" src="https://placehold.co/231x40?text=Le+Figaro+logo+231x40">
          <img alt="Le Figaro" class="logo-mobile" src="https://placehold.co/175x33?text=Le+Figaro+logo+175x33">
        </a>
      </div>

      <div class="header-subscribe">
        <a href="#" class="subscribe-button">
          Abonnez-vous <span>0,99€ le premier mois</span>
        </a>
      </div>
    </div>
  </div>

  <!-- 3. Barra Rubriche Secondaria - MODIFICATA -->
  <nav class="header-rubrics" aria-label="Navigation secondaire">
    <div class="container rubrics-container">
      <div class="rubrics_list">
        <!-- Rubriche principali come semplice testo -->
        <a class="rubric-link" href="#">Politique</a>
        <a class="rubric-link" href="#">International</a>
        <a class="rubric-link" href="#">Économie</a>
        <a class="rubric-link" href="#">Société</a>
        <a class="rubric-link" href="#">Vox</a>
        <a class="rubric-link" href="#">Sport</a>
        <a class="rubric-link" href="#">Culture</a>
        <a class="rubric-link" href="#">Madame</a>

        <!-- Rubriche aggiuntive per tablet/mobile (visibili solo sotto 1024px) -->
        <a class="rubric-link mobile-tablet-only" href="#">Faits divers</a>
        <a class="rubric-link mobile-tablet-only" href="#">Santé</a>
        <a class="rubric-link mobile-tablet-only" href="#">Sciences</a>
        <a class="rubric-link mobile-tablet-only" href="#">Tech et web</a>
        <a class="rubric-link mobile-tablet-only" href="#">Patrimoine et Bourse</a>
        <a class="rubric-link mobile-tablet-only" href="#">Art de vivre</a>
        <a class="rubric-link mobile-tablet-only" href="#">Voyage</a>
        <a class="rubric-link mobile-tablet-only" href="#">Style</a>
        <a class="rubric-link mobile-tablet-only" href="#">Vin</a>
        <a class="rubric-link mobile-tablet-only" href="#">Automobile</a>
        <a class="rubric-link mobile-tablet-only" href="#">Le Figaro Magazine</a>
        <a class="rubric-link mobile-tablet-only" href="#">Le Figaro Étudiant</a>
        <a class="rubric-link mobile-tablet-only" href="#">Le Figaro Immobilier</a>
        <a class="rubric-link mobile-tablet-only" href="#">Le Figaro Littéraire</a>
        <a class="rubric-link mobile-tablet-only" href="#">Histoire</a>
        <a class="rubric-link mobile-tablet-only" href="#">Emploi</a>
        <a class="rubric-link mobile-tablet-only" href="#">TVMag</a>
        <a class="rubric-link mobile-tablet-only" href="#">Programme TV</a>
        <a class="rubric-link mobile-tablet-only" href="#">Météo</a>
        <a class="rubric-link mobile-tablet-only" href="#">Carnet du jour</a>

        <!-- Pulsante con freccina per menu aggiuntivo (visibile solo sopra 1024px) -->
        <button (click)="toggleMoreRubricsMenu()" aria-controls="more-rubrics-menu" mat-flat-button
                class="more-rubrics-button desktop-only"
                mat-button>
          <mat-icon>{{ isMoreRubricsMenuOpen ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}</mat-icon>
        </button>

        <!-- Menu aggiuntivo - si apre quando isMoreRubricsMenuOpen è true -->
        <div *ngIf="isMoreRubricsMenuOpen" class="more-rubrics-menu" id="more-rubrics-menu">
          <div class="more-rubrics-grid">
            <a class="additional-rubric" href="#">Faits divers</a>
            <a class="additional-rubric" href="#">Santé</a>
            <a class="additional-rubric" href="#">Sciences</a>
            <a class="additional-rubric" href="#">Tech et web</a>
            <a class="additional-rubric" href="#">Patrimoine et Bourse</a>

            <a class="additional-rubric" href="#">Art de vivre</a>
            <a class="additional-rubric" href="#">Voyage</a>
            <a class="additional-rubric" href="#">Style</a>
            <a class="additional-rubric" href="#">Vin</a>
            <a class="additional-rubric" href="#">Automobile</a>

            <a class="additional-rubric" href="#">Le Figaro Magazine</a>
            <a class="additional-rubric" href="#">Le Figaro Étudiant</a>
            <a class="additional-rubric" href="#">Le Figaro Immobilier</a>
            <a class="additional-rubric" href="#">Le Figaro Littéraire</a>
            <a class="additional-rubric" href="#">Histoire</a>

            <a class="additional-rubric" href="#">Emploi</a>
            <a class="additional-rubric" href="#">TVMag</a>
            <a class="additional-rubric" href="#">Programme TV</a>
            <a class="additional-rubric" href="#">Météo</a>
            <a class="additional-rubric" href="#">Carnet du jour</a>
          </div>
        </div>
      </div>
    </div>
  </nav>


  <!-- Menu Mobile (attivato dal menu button) -->
  <div *ngIf="isMobileMenuOpen" class="mobile-menu">
    <div class="mobile-menu-container">
      <!-- Pulsanti in cima al menu -->
      <div class="mobile-menu-buttons">
        <a class="mobile-subscribe-button" href="#">
          Abonnez-vous
          <span>0,99€ le premier mois</span>
        </a>
        <a class="mobile-search-button" href="#">
          <svg class="search-icon" height="15" viewBox="0 0 24 24" width="15" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                  fill="currentColor"/>
          </svg>
          Rechercher
        </a>
      </div>

      <!-- Mobile App Section -->
      <div class="fh-mobileapp__container">
        <img alt="Le Figaro App" src="https://placehold.co/40x40"/>
        <div class="fh-mobileapp__text">
          <h3>Notre application</h3>
          <p>Soyez alerté en temps réel<br>avec l'application Le Figaro</p>
        </div>
      </div>

      <!-- Sezioni del menu mobile -->
      <div class="mobile-menu-section">
        <h3 class="section-title">Rubriques et services du Figaro</h3>
        <ul class="mobile-menu-list">
          <li><a href="#">Politique</a></li>
          <li><a href="#">International</a></li>
          <li><a href="#">Économie</a></li>
          <li><a href="#">Société</a></li>
          <li><a href="#">Vox</a></li>
          <li><a href="#">Sport</a></li>
          <li><a href="#">Culture</a></li>
          <li><a href="#">Madame</a></li>
          <li><a href="#">Faits divers</a></li>
          <li><a href="#">Santé</a></li>
          <li><a href="#">Sciences</a></li>
          <li><a href="#">Tech et web</a></li>
          <li><a href="#">Patrimoine et Bourse</a></li>
          <li><a href="#">Art de vivre</a></li>
          <li><a href="#">Voyage</a></li>
          <li><a href="#">Style</a></li>
          <li><a href="#">Vin</a></li>
          <li><a href="#">Automobile</a></li>
          <li><a href="#">Le Figaro Magazine</a></li>
          <li><a href="#">Le Figaro Étudiant</a></li>
          <li><a href="#">Le Figaro Immobilier</a></li>
          <li><a href="#">Le Figaro Littéraire</a></li>
          <li><a href="#">Histoire</a></li>
          <li><a href="#">Emploi</a></li>
          <li><a href="#">TVMag</a></li>
          <li><a href="#">Programme TV</a></li>
          <li><a href="#">Météo</a></li>
          <li><a href="#">Carnet du jour</a></li>
          <li><a href="#">Le Figaro in English</a></li>
          <li><a href="#">La question du jour</a></li>
          <li><a href="#">Langue française</a></li>
          <li><a href="#">Le Figaro Golf</a></li>
          <li><a href="#">Maison et Jardin</a></li>
          <li><a href="#">FigData</a></li>
          <li><a href="#">Les classements du Figaro</a></li>
          <li><a href="#">Le Particulier</a></li>
          <li><a href="#">Bons plans</a></li>
          <li><a href="#">Guide Achat</a></li>
          <li><a href="#">Le Figaroscope</a></li>
          <li><a href="#">F, l'art de vivre</a></li>
          <li><a href="#">Le Figaro Store</a></li>
          <li><a href="#">Les Voyages F</a></li>
          <li><a href="#">Jeux</a></li>
          <li><a href="#">Le Figaro TV</a></li>
          <li><a href="#">Podcasts</a></li>
          <li><a href="#">Newsletters</a></li>
        </ul>
      </div>

      <div class="mobile-menu-section">
        <h3 class="section-title">Nos journaux et magazines</h3>
        <ul class="mobile-menu-list">
          <li><a href="#">Le Figaro</a></li>
          <li><a href="#">Le Figaro Magazine</a></li>
          <li><a href="#">Madame Figaro</a></li>
          <li><a href="#">TV Magazine</a></li>
        </ul>
      </div>

      <div class="mobile-menu-section">
        <h3 class="section-title">Les sites du Groupe Figaro</h3>
        <ul class="mobile-menu-list">
          <li><a href="#">Médias</a></li>
          <li><a href="#">Agences & Régies publicitaires</a></li>
          <li><a href="#">E-services & Classifieds</a></li>
          <li><a href="#">Voyages</a></li>
          <li><a href="#">E-marketing</a></li>
          <li><a href="#">Billetterie</a></li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Overlay grigio scuro che appare quando il menu è aperto (solo desktop) -->
  <div *ngIf="isMoreRubricsMenuOpen" class="page-overlay desktop-only"></div>

  <!-- Overlay grigio scuro che appare quando il menu mobile è aperto -->
  <div *ngIf="isMobileMenuOpen" class="mobile-overlay"></div>
</header>
